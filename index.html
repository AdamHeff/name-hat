<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="The name hat for gift exchanges">
    <title>Name Hat</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <p>Enter names from the same family on a single line, separated by a comma.</p>
    <p>Enter each family on its own line, separated by a carriage return.</p>
    <p>Each name must be unique.</p>
    <div class="group">
      <label for="names">Input</label>
      <br/>
      <textarea id="names" rows="10">Adam, Mary&#13;&#10;Scott, Jenna&#13;&#10;Lindsay, Jeremy&#13;&#10;Ross&#13;&#10;Brett</textarea> <!-- (Note: &#13;&#10; is for a line break) -->
    </div>
    <br/>
    <button onclick="onclickCalculate()">Calculate</button>
    <br/>
    <div class="group">
      <label for="matches">Results</label>
      <br/>
      <textarea id="matches" rows="20"></textarea>
    </div>
    <script type="text/javascript" src="js/makematches.js"></script>

    <script type="text/javascript">
    function onclickCalculate() {
      var names = document.getElementById("names").value.trim();
      var famBlobs = names.split("\n");
      var families = new Array();
      famBlobs.forEach(function (famBlob) {
        var fam = famBlob.split(",").map(function (a) {
          return a.trim();
        }).filter(function (b) {
          return b!= undefined && b != null && b != "";
        });
        families.push(fam);
      });
      document.getElementById("matches").value = makematches(families);
    }
    </script>
  </body>
</html>
